"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[149],{149:function(n,e,s){s.r(e),s.d(e,{default:function(){return E}});var a=s(5671),t=s(3144),i=s(136),o=s(5716),r=s(390),l=s(4424),u=s(2942),c=s(8312),d=s(1413),g={pagination:"EditableSpan_pagination__OL+34",inputPagination:"EditableSpan_inputPagination__wjeWf"},f=s(9836),h=s(2559),p=r.memo((function(n){var e=n.usersPage.totalCount,s=n.usersPage.currentPage,a=Math.ceil(e/n.usersPage.pageSize),t=[];if(s<6)for(var i=1;i<e&&i<8;i++)t.push(i);else for(var o=s-2;o<s+3&&o<=a;o++)t.push(o);var r={defaultInputTitleValue:s?s.toString():"1",labelText:" ... ",verificationRule:function(n){return""===n||+n>0&&+n<=a&&n.length<100},onKeyPress:function(e,s){"Enter"===e.key&&+s>0&&+s<=a&&n.onPageChanged(+s)},className:g};return(0,h.jsx)("div",{className:g.container,children:(0,h.jsxs)("div",{className:g.paginationBlock,children:[s>5&&(0,h.jsx)("span",{className:g.pagination,style:1===s?{fontWeight:"bold"}:{},onClick:function(){n.onPageChanged(1)},children:"1"}),s>5&&(0,h.jsx)(f.m,(0,d.Z)((0,d.Z)({},r),{},{id:"firstPagination"})),t.map((function(e){return(0,h.jsx)("span",{className:g.pagination,style:s===e?{fontWeight:"bold"}:{},onClick:function(){n.onPageChanged(e)},children:e},e)})),a>8&&s<a-3&&(0,h.jsx)(f.m,(0,d.Z)((0,d.Z)({},r),{},{id:"secondPagination"})),a>6&&s<a-2&&(0,h.jsx)("span",{className:g.pagination,style:s===a?{fontWeight:"bold"}:{},onClick:function(){n.onPageChanged(a)},children:a}),a>10&&s>1&&(0,h.jsxs)("span",{className:g.pagination,onClick:function(){n.onPageChanged(s>1?s-1:a)},children:["<<"," "]}),a>10&&s!==a&&(0,h.jsx)("span",{className:g.pagination,onClick:function(){n.onPageChanged(s<a?s+1:a)},children:">>"})]})})})),m=s(6369),j="User_container__hNb6X",x="User_follow__guBJe",v="User_avatar__V2sdX",P="User_name_status__YtsJ8",_=s(6939),w=s(885),C="FollowButton_follow__kWANR",N="FollowButton_unfollow__N6PkX",k="FollowButton_container__88T6V",U=function(n){var e=(0,r.useState)(!1),s=(0,w.Z)(e,2),a=s[0],t=s[1];return(0,h.jsxs)("div",{children:[!n.followed&&(0,h.jsx)("button",{disabled:a,onClick:function(){n.followUsers(!0,n.userID,t)},children:(0,h.jsxs)("div",{className:k,children:[(0,h.jsx)("div",{className:C}),"Follow"]})}),n.followed&&(0,h.jsx)("button",{disabled:a,onClick:function(){n.followUsers(!1,n.userID,t)},children:(0,h.jsxs)("div",{className:k,children:[(0,h.jsx)("div",{className:N}),"Unfollow"]})})]})},Z=r.memo((function(n){return(0,h.jsxs)("div",{className:j,children:[(0,h.jsxs)("span",{children:[(0,h.jsx)(m.OL,{to:"/profile/"+n.u.id,children:(0,h.jsx)("div",{children:(0,h.jsx)("img",{className:v,src:n.u.photos.small?n.u.photos.small:_.Z,alt:"avatar"})})}),(0,h.jsx)("div",{className:x,children:(0,h.jsx)(U,{userID:n.u.id,followed:n.u.followed,followUsers:n.followUsers})})]}),(0,h.jsxs)("span",{className:P,children:[(0,h.jsx)("div",{children:n.u.name}),(0,h.jsx)("div",{children:n.u.status})]})]},n.u.id)})),y=s(971),b=r.memo((function(n){var e=(0,y.TH)(),s=new URLSearchParams(e.search).get("page");return(0,r.useEffect)((function(){s&&n.onPageChanged(+s)}),[s]),(0,h.jsxs)("div",{className:c.Z.container,children:[(0,h.jsx)("div",{className:c.Z.pagination,children:(0,h.jsx)(p,{usersPage:n.usersPage,onPageChanged:n.onPageChanged})}),(0,h.jsx)("div",{className:c.Z.users,children:n.usersPage.userData.map((function(e){return(0,h.jsx)(Z,{u:e,followUsers:n.followUsers},e.id)}))})]})})),S=s(1889),T=s(1570),D=s(8028),F=function(n){return n.usersPage},A=function(n){(0,i.Z)(s,n);var e=(0,o.Z)(s);function s(){var n;(0,a.Z)(this,s);for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return(n=e.call.apply(e,[this].concat(i))).onPageChanged=function(e){n.props.getUsers(e,n.props.usersPage.pageSize)},n}return(0,t.Z)(s,[{key:"componentDidMount",value:function(){this.props.getUsers(this.props.usersPage.currentPage,this.props.usersPage.pageSize)}},{key:"render",value:function(){return(0,h.jsxs)(h.Fragment,{children:[this.props.usersPage.isFetching?(0,h.jsx)(S.p,{}):null,(0,h.jsx)(b,{usersPage:this.props.usersPage,onPageChanged:this.onPageChanged,followUsers:this.props.followUsers})]})}}]),s}(r.Component),B={getUsers:u.Rf,followUsers:u.cQ},E=(0,D.qC)((0,l.$j)((function(n){return{usersPage:F(n)}}),B),T.D)(A)},9836:function(n,e,s){s.d(e,{m:function(){return o}});var a=s(885),t=s(390),i=s(2559),o=t.memo((function(n){var e=(0,t.useState)(n.defaultInputTitleValue),s=(0,a.Z)(e,2),o=s[0],r=s[1],l=(0,t.useState)(!1),u=(0,a.Z)(l,2),c=u[0],d=u[1];return c?(0,i.jsx)("input",{id:n.id,className:n.className.inputPagination,autoFocus:!0,value:o,onChange:function(e){var s=e.currentTarget.value;n.verificationRule(s)&&r(s)},onKeyPress:function(e){n.onKeyPress(e,o),"Enter"===e.key&&(d(!c),r("1"))},onBlur:function(){d(!c),r("1")},title:"Type and press Enter"}):(0,i.jsxs)("span",{className:n.className.pagination,onClick:function(){d(!c),r(n.defaultInputTitleValue)},children:[" ",n.labelText," "]})}))},1570:function(n,e,s){s.d(e,{D:function(){return c}});var a=s(1413),t=s(5987),i=s(971),o=(s(390),s(4424)),r=s(2559),l=["isAuth"],u=function(n){return{isAuth:!!n.auth.login}};function c(n){return(0,o.$j)(u)((function(e){e.isAuth;var s=(0,t.Z)(e,l);return e.isAuth?(0,r.jsx)(n,(0,a.Z)({},s)):(0,r.jsx)(i.l_,{to:"/login"})}))}}}]);
//# sourceMappingURL=149.cefea1dd.chunk.js.map